(function(a){"use strict";var b;b||(b={}),b.calculateCommonEraYear=function(a,b){var c=b.getFullYear()-a.getFullYear()+1;return(c===1?"元":c)+"年"},b.calculateWesternYear=function(b,c){return c=c==="元"?1:a.toASCII(c),parseInt(c,10)+b.getFullYear()-1},a.toASCII=function(a){var b=0,c="０１２３４５６７８９",d="〇一二三四五六七八九十",e=new RegExp("["+c+"]","g"),f=new RegExp("["+d+"]","g");return a.match(e)?b=a.replace(e,function(a,b,d){return c.indexOf(a,0)}):a.match(f)?a.replace(f,function(a,c,e){a==="十"?b=b===0?10:b*10:b+=d.indexOf(a,0)}):b=a,b},b.eras=[{name:"平成",date:new Date("Jan 08, 1989")},{name:"昭和",date:new Date("Dec 25, 1926")},{name:"大正",date:new Date("Jul 30, 1912")},{name:"明治",date:new Date("Jan 25, 1868")}],b.itenerateEras=function(a){var c,d;for(c=0;c<b.eras.length;c++){d=a(b.eras[c]);if(d)return d}},a.toCommonEraYear=function(a){return b.itenerateEras(function(c){if(a>=c.date)return c.name+b.calculateCommonEraYear(c.date,a)})},a.toWesternYear=function(a){var c=a.match(/([^元0-9０-９〇一二三四五六七八九十]+)([元0-9０-９〇一二三四五六七八九十]+)(年)/),d=c[1],e=c[2];return b.itenerateEras(function(a){if(d===a.name)return b.calculateWesternYear(a.date,e)})}})(typeof exports=="undefined"?this.Japan={}:exports);